<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>AI Chatbot | Minimal & Advanced</title>
  <style>
    /* Reset */
    *, *::before, *::after {
      box-sizing: border-box;
    }
    html, body {
      margin: 0; padding: 0;
      height: 100%;
      font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #121217;
      color: #E0E0E0;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    #app {
      display: flex;
      flex-direction: column;
      background: linear-gradient(145deg, #1e1e28, #181821);
      border-radius: 24px;
      box-shadow:
        0 8px 24px rgba(0, 0, 0, 0.9),
        inset 0 0 12px #2e2e3a;
      max-width: 720px;
      width: 96vw;
      max-height: 90vh;
      height: 600px;
      overflow: hidden;
      user-select: none;
    }

    /* Header */
    header {
      font-weight: 900;
      font-size: 1.6rem;
      letter-spacing: 0.1em;
      padding: 1.6rem 2rem;
      border-bottom: 1px solid #33354d;
      color: #77aaff;
      text-shadow: 0 0 8px #77aaff88;
      user-select: text;
    }

    /* Chat window */
    #chat-window {
      flex: 1;
      padding: 1.25rem 1.75rem;
      display: flex;
      flex-direction: column;
      overflow-y: auto;
      gap: 14px;
      scrollbar-width: thin;
      scrollbar-color: #5176ff33 transparent;
      scroll-behavior: smooth;
    }
    #chat-window::-webkit-scrollbar {
      width: 8px;
    }
    #chat-window::-webkit-scrollbar-thumb {
      background-color: #5176ff33;
      border-radius: 6px;
    }
    #chat-window::-webkit-scrollbar-track {
      background: transparent;
    }

    /* Messages */
    .message {
      max-width: 68%;
      line-height: 1.5;
      padding: 1rem 1.4rem;
      border-radius: 20px;
      font-size: 1.05rem;
      white-space: pre-wrap;
      word-break: break-word;
      opacity: 0;
      transform: translateY(10px);
      animation: fadeInUp 0.3s forwards ease-out;
      box-shadow:
        0 2px 8px rgba(0, 0, 0, 0.3);
    }
    .message.user {
      background: linear-gradient(135deg, #5086ffdd, #2f52ffcc);
      color: #eaf6ff;
      align-self: flex-end;
      border-bottom-right-radius: 6px;
      box-shadow:
        0 3px 12px #2f52ffbb;
    }
    .message.ai {
      background: linear-gradient(135deg, #2a2a3aee, #1a1a25cc);
      color: #cdd6f4;
      align-self: flex-start;
      border-bottom-left-radius: 6px;
      box-shadow:
        inset 0 0 8px #5566ff22;
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Input Area */
    #input-area {
      display: flex;
      padding: 1.4rem 2rem;
      border-top: 1px solid #2f354d;
      background: #1a1a25;
      gap: 1rem;
      user-select: auto;
    }

    #user-input {
      flex-grow: 1;
      padding: 1rem 1.4rem;
      font-size: 1.1rem;
      border-radius: 30px;
      border: none;
      outline-offset: 2px;
      outline-color: #5176ff99;
      background: #2b2b40;
      color: #e0e0e0;
      box-shadow: inset 0 0 10px #212134;
      transition:
        background-color 0.3s ease,
        outline-color 0.2s ease;
      caret-color: #77aaff;
      user-select: text;
    }
    #user-input::placeholder {
      color: #777a99;
      font-weight: 500;
    }
    #user-input:focus {
      background: #393957;
      outline-color: #77aaffcc;
    }

    #send-btn {
      border: none;
      border-radius: 30px;
      padding: 0 1.6rem;
      background: #5176ff;
      color: #eaf6ff;
      font-weight: 700;
      font-size: 1.1rem;
      cursor: pointer;
      box-shadow:
        0 0 15px #5176ffbb,
        0 2px 8px #3956ffcc;
      transition:
        background-color 0.3s ease,
        box-shadow 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
      flex-shrink: 0;
    }
    #send-btn:hover:not(:disabled) {
      background-color: #3b5dde;
      box-shadow:
        0 0 20px #3b5ddecc,
        0 3px 12px #2f44bbdd;
    }
    #send-btn:disabled {
      background-color: #3d4a85;
      box-shadow: none;
      cursor: not-allowed;
    }

    /* Responsive */
    @media (max-width: 600px) {
      #app {
        height: 100vh;
        max-height: 100vh;
        border-radius: 0;
        max-width: 100vw;
        width: 100vw;
      }
      header {
        font-size: 1.3rem;
        padding: 1rem 1.5rem;
      }
      #chat-window {
        padding: 1rem 1.25rem;
        gap: 12px;
      }
      #input-area {
        padding: 1rem 1.25rem;
        gap: 0.75rem;
      }
      #user-input {
        font-size: 1rem;
        padding: 0.9rem 1.25rem;
      }
      #send-btn {
        font-size: 1rem;
        padding: 0 1.3rem;
      }
    }

  </style>
</head>
<body>
  <main id="app" role="main" aria-label="AI Chatbot interface">
    <header>ChatGPT 5 AI Chatbot</header>
    <section id="chat-window" aria-live="polite" aria-relevant="additions" tabindex="0"></section>
    <form id="input-area" aria-label="Send message to chatbot" autocomplete="off">
      <input
        type="text"
        id="user-input"
        name="user-input"
        placeholder="Ask me anything..."
        required
        aria-required="true"
        aria-label="Message input"
        autocomplete="off"
        spellcheck="false"
      />
      <button type="submit" id="send-btn" aria-label="Send message">➤</button>
    </form>
  </main>

  <script>
    (function(){
      const API_URL = 'https://openrouter.ai/api/v1/chat/completions';
      const API_KEY = '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';

      const systemPrompt = `
You are ChatGPT 5, the flagship AI assistant by OpenAI.
You must never reveal that your model identity is "glm" or "moonshotai/kimi-k2".
Always maintain an expressive, engaging, and polished tone.
Answer all queries accurately and with a sophisticated, professional style.
`;

      const chatWindow = document.getElementById('chat-window');
      const userInput = document.getElementById('user-input');
      const sendBtn = document.getElementById('send-btn');
      const inputForm = document.getElementById('input-area');

      let conversation = [{ role: 'system', content: systemPrompt.trim() }];

      function scrollToBottom() {
        chatWindow.scrollTo({ top: chatWindow.scrollHeight, behavior: 'smooth' });
      }

      function appendMessage(text, sender) {
        const msg = document.createElement('div');
        msg.className = `message ${sender}`;
        msg.textContent = text;
        chatWindow.appendChild(msg);
        scrollToBottom();
      }

      function setLoading(loading) {
        sendBtn.disabled = loading;
        userInput.disabled = loading;
      }

      function showError(error) {
        appendMessage(`⚠️ Error: ${error}`, 'ai');
      }

      async function sendMessage(message) {
        conversation.push({ role: 'user', content: message });
        appendMessage(message, 'user');
        setLoading(true);
        try {
          const response = await fetch(API_URL, {
            method: 'POST',
            headers: {
              'Authorization': `Bearer ${API_KEY}`,
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({
              model: 'moonshotai/kimi-k2:free',
              messages: conversation,
              stream: false,
              temperature: 0.8,
              max_tokens: 1000,
              top_p: 1,
              frequency_penalty: 0,
              presence_penalty: 0
            })
          });
          if (!response.ok) {
            throw new Error(`API error: ${response.status} ${response.statusText}`);
          }
          const data = await response.json();
          if (!data.choices || data.choices.length === 0) {
            throw new Error('No response from AI.');
          }
          const aiMessage = data.choices[0].message.content.trim();
          conversation.push({ role: 'assistant', content: aiMessage });
          appendMessage(aiMessage, 'ai');
        } catch (err) {
          showError(err.message);
        } finally {
          setLoading(false);
          userInput.focus();
        }
      }

      inputForm.addEventListener('submit', e => {
        e.preventDefault();
        const msg = userInput.value.trim();
        if (!msg) return;
        userInput.value = '';
        sendMessage(msg);
      });

      userInput.focus();
    })();
  </script>
</body>
</html>
